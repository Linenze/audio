/*!
 audio.js plugin for jQuery v3.2.1 by Buff
 (c) 2016-2017 Buff <https://github.com/buff2017>
 MIT-style license.
 */
~function(e,i){"use strict";function o(o){var t={src:"",autoPlay:!0,frequency:200};u=this,this.audio=new Audio,this.canplay=!1,this.beforMute=1,this.options=i.extend(t,o),this.init(),this.isMobile()&&i(document).one("touchstart click",function(){console.log("加载音频");var e=new Audio;e.src=u.options.src}),this.loadAudio(this.options.src,this.options.autoPlay),e.audioMethod={play:u.play,pause:u.pause,togglePlay:u.togglePlay,volume:u.volume,mute:u.mute,unMute:u.unMute,toggleMute:u.toggleMute,loadAudio:u.loadAudio,currentTime:u.currentTime}}function t(e,i){return Math.trunc(e)/Math.trunc(i)*100}var u,n=o.prototype;n.currentTime=function(o,n){if(u.canplay){if(void 0===o)return u.audio.duration;u.audio.currentTime=n?Math.floor(u.audio.duration*(o/100)):o,i(e).trigger("audioTimeChange",{currentTime:u.audio.currentTime,currentTimePercentage:t(u.audio.currentTime,u.audio.duration)})}},n.toggleMute=function(){0===u.audio.volume?u.unMute():u.mute()},n.unMute=function(){u.canplay&&(u.audio.volume=u.beforMute,i(e).trigger("audioUnMute",u.beforMute))},n.mute=function(){u.canplay&&(u.beforMute=u.audio.volume,u.audio.volume=0,i(e).trigger("audioMute"))},n.volume=function(o,t){if(u.canplay){if(void 0===o)return u.audio.volume;u.audio.volume=t?o/100:o,i(e).trigger("audioVolumeChange",{volume:u.audio.volume,volumePercentage:100*u.audio.volume})}},n.togglePlay=function(){u.audio.paused?u.play():u.pause()},n.pause=function(){u.canplay&&(u.audio.pause(),i(e).trigger("audioPause",u.audio),clearInterval(u.intervalFn))},n.play=function(){u.canplay&&(u.audio.play(),i(e).trigger("audioPlay",u.audio),u.createInterval())},n.init=function(){i(this.audio).on("loadstart",function(){i(e).trigger("audioLoadStart")}),i(this.audio).on("ended",function(){i(e).trigger("audioEnded"),clearInterval(u.intervalFn)})},n.loadAudio=function(o,t){u.intervalFn&&clearInterval(u.intervalFn),u.canplay=!1,i(u.audio).one("canplay ",function(){u.canplay=!0,i(e).trigger("audioLoadEnd",u.audio),t&&u.play()}),u.audio.src=u.src=o},n.isMobile=function(){var e=navigator.userAgent,i=/Android/i.test(e),o=/iPhone|iPad|iPod/i.test(e),t=i||o;return i&&(t="android"),o&&(t="IOS"),t},n.createInterval=function(){this.intervalFn=setInterval(function(){i(e).trigger("audioWatching",{currentTime:u.audio.currentTime,duration:u.audio.duration,ended:u.audio.ended,percentage:t(u.audio.currentTime,u.audio.duration)})},u.options.frequency)},i.extend({audio:function(e,i){i=i?i:{},"string"==typeof e&&(i.src=e),"object"==typeof e&&(i=e),new o(i)}})}(window,$);
