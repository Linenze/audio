/*!
 audio.js plugin for jQuery v3.2.1 by Buff
 (c) 2016-2017 Buff <https://github.com/buff2017>
 MIT-style license.
 */
~function(e,u){"use strict";function t(t){var i={src:"",autoPlay:!0,frequency:200};o=this,this.audio=new Audio,this.canplay=!1,this.beforMute=1,this.options=u.extend(i,t),this.init(),this.loadAudio(this.options.src,this.options.autoPlay),e.audioMethod={play:o.play,pause:o.pause,togglePlay:o.togglePlay,volume:o.volume,mute:o.mute,unMute:o.unMute,toggleMute:o.toggleMute,loadAudio:o.loadAudio,currentTime:o.currentTime}}function i(e,u){return Math.trunc(e)/Math.trunc(u)*100}var o,a=t.prototype;a.currentTime=function(t,a){if(o.canplay){if(void 0===t)return o.audio.duration;o.audio.currentTime=a?Math.floor(o.audio.duration*(t/100)):t,u(e).trigger("audioTimeChange",{currentTime:o.audio.currentTime,currentTimePercentage:i(o.audio.currentTime,o.audio.duration)})}},a.toggleMute=function(){0===o.audio.volume?o.unMute():o.mute()},a.unMute=function(){o.canplay&&(o.audio.volume=o.beforMute,u(e).trigger("audioUnMute",o.beforMute))},a.mute=function(){o.canplay&&(o.beforMute=o.audio.volume,o.audio.volume=0,u(e).trigger("audioMute"))},a.volume=function(t,i){if(o.canplay){if(void 0===t)return o.audio.volume;o.audio.volume=i?t/100:t,u(e).trigger("audioVolumeChange",{volume:o.audio.volume,volumePercentage:100*o.audio.volume})}},a.togglePlay=function(){o.audio.paused?o.play():o.pause()},a.pause=function(){o.canplay&&(o.audio.pause(),u(e).trigger("audioPause",o.audio),clearInterval(o.intervalFn))},a.play=function(){o.canplay&&(o.audio.play(),u(e).trigger("audioPlay",o.audio),o.createInterval())},a.init=function(){u(this.audio).on("loadstart",function(){u(e).trigger("audioLoadStart")}),u(this.audio).on("ended",function(){u(e).trigger("audioEnded"),clearInterval(o.intervalFn)})},a.loadAudio=function(t,i){o.intervalFn&&clearInterval(o.intervalFn),o.canplay=!1,u(o.audio).one("canplay ",function(){o.canplay=!0,u(e).trigger("audioLoadEnd",o.audio),i&&o.play()}),o.audio.src=o.src=t},a.createInterval=function(){this.intervalFn=setInterval(function(){u(e).trigger("audioWatching",{currentTime:o.audio.currentTime,duration:o.audio.duration,ended:o.audio.ended,percentage:i(o.audio.currentTime,o.audio.duration)})},o.options.frequency)},u.extend({audio:function(e,u){u=u?u:{},"string"==typeof e&&(u.src=e),"object"==typeof e&&(u=e),new t(u)}})}(window,$);
