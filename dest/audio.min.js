/*!
 audio.js plugin for jQuery v3.2.1 by Buff
 (c) 2016-2017 Buff <https://github.com/buff2017>
 MIT-style license.
 */
~function(t,u){"use strict";function i(i){var e={src:"",autoPlay:!0,frequency:200};a=this,this.audio=new Audio,this.canplay=!1,this.beforMute=1,this.options=u.extend(e,i),this.init(),this.loadAudio(this.options.src,this.options.autoPlay),t.audioMethod={play:a.play,pause:a.pause,togglePlay:a.togglePlay,volume:a.volume,mute:a.mute,unMute:a.unMute,toggleMute:a.toggleMute,loadAudio:a.loadAudio,currentTime:a.currentTime}}var a,e=i.prototype;e.currentTime=function(i,e){if(a.canplay){if(void 0===i)return a.audio.duration;a.audio.currentTime=e?Math.floor(a.audio.duration*(i/100)):i,u(t).trigger("audioTimeChange",a.audio)}},e.toggleMute=function(){0===a.audio.volume?a.unMute():a.mute()},e.unMute=function(){a.canplay&&(a.audio.volume=a.beforMute,u(t).trigger("audioUnMute",a.beforMute))},e.mute=function(){a.canplay&&(a.beforMute=a.audio.volume,a.audio.volume=0,u(t).trigger("audioMute"))},e.volume=function(i,e){if(a.canplay){if(void 0===i)return a.audio.volume;a.audio.volume=e?i/100:i,u(t).trigger("audioVolumeChange",a.audio)}},e.togglePlay=function(){a.audio.paused?a.play():a.pause()},e.pause=function(){a.canplay&&(a.audio.pause(),u(t).trigger("audioPause",a.audio),clearInterval(a.intervalFn))},e.play=function(){a.canplay&&(a.audio.play(),u(t).trigger("audioPlay",a.audio),a.createInterval())},e.init=function(){u(this.audio).on("loadstart",function(){u(t).trigger("audioLoadStart")}),u(this.audio).on("ended",function(){u(t).trigger("audioEnded"),clearInterval(a.intervalFn)})},e.loadAudio=function(i,e){a.intervalFn&&clearInterval(a.intervalFn),a.canplay=!1,u(a.audio).one("canplay ",function(){a.canplay=!0,u(t).trigger("audioLoadEnd",a.audio),e&&a.play()}),a.audio.src=a.src=i},e.createInterval=function(){this.intervalFn=setInterval(function(){u(t).trigger("audioWatching",{currentTime:a.audio.currentTime,duration:a.audio.duration,ended:a.audio.ended,percentage:Math.trunc(a.audio.currentTime)/Math.trunc(a.audio.duration)*100})},a.options.frequency)},u.extend({audio:function(t,u){u=u?u:{},"string"==typeof t&&(u.src=t),"object"==typeof t&&(u=t),new i(u)}})}(window,$);
